\section{Type Soundness}
\begin{theorem}[Semantic type preservation]
If a term $e$ is semantically well-typed in context $\Gamma$ with type $\tau$ and $e \rightsquigarrow e'$, then there exists a $\Gamma'$ such that $\Gamma' \vDash e' : \tau$.
\end{theorem}
\begin{proof}
If $e$ is a value, we're done. 
If $e$ is not a value, we proceed by case analysis over the rewrite relation
$e \rightsquigarrow e'$.
Observe that have $\Gamma \vDash e : \tau$, that is, $\forall \sigma \text{
  compatible with } \Gamma, \llbracket \sigma \Vdash e \rrbracket_{\tau} \in
  \llbracket \tau \rrbracket$.
\begin{description}
  \item[\textsc{Ret.}]
  \item[\textsc{Rnd.}]
  \item[\textsc{Variable lookup.}]
\end{description}
\end{proof}

\begin{theorem}[Semantic type soundness]
$\Gamma \vdash e : \tau \implies \Gamma \vDash e : \tau$
\end{theorem}
\begin{proof}
\end{proof}



%%%% IGNORE BELOW %%%%

% todo: Use whatever theorem name people like best here.
Semantics is preserved under operational stepping. If $\sigma \Vdash e : \tau \rightsquigarrow \sigma'
\Vdash e' : \tau$, then $\llbracket \sigma \Vdash e : \tau \rrbracket =
\llbracket \sigma' \Vdash e' : \tau \rrbracket$.

% todo: Use whatever theorem name people like best here.
If the semantics of a program is equivalent to the semantics of a value, it must
reduce to that value. If $\llbracket \sigma \Vdash e : \tau \rrbracket =
\llbracket v : \tau \rrbracket$, then $\sigma \Vdash e : \tau
\rightsquigarrow^{*} \sigma' \Vdash v : \tau$

Syntactically well-typed programs are non-expansive. For $\Gamma \vdash e : \tau
$ and $\llbracket \sigma \rrbracket, \llbracket \sigma' \rrbracket \in
\llbracket \Gamma \rrbracket $ and
$$\sigma \Vdash e : \tau \rightsquigarrow^* v : \tau$$ 
and 
$$\sigma' \Vdash e : \tau \rightsquigarrow^* v' : \tau$$
then
$$
d_{\tau}(v, v') \leq d_{\Gamma}(\sigma, \sigma')
$$

Syntactically ok implies semantically ok. If $\Gamma \vdash e : \tau$, then
$\forall \llbracket \sigma \rrbracket \in \llbracket \Gamma \rrbracket, \exists
v, \llbracket \sigma \Vdash e : \tau \rrbracket = \llbracket v : \tau
\rrbracket$.

Syntactically ok implies operationally ok. If $\Gamma \vdash e : \tau$, then
$\forall \llbracket \sigma \rrbracket \in \llbracket \Gamma \rrbracket, \exists
v, \sigma \Vdash e : \tau \rightsquigarrow^{*} v : \tau$.

